services:
  iib:
    build: .
    container_name: infinite-image-browser
    ports:
      - "8080:8080"
    volumes:
      - ./images:/outputs:ro  # Change to your images folder
      - iib-cache:/cache
      # Custom favicon (optional): mount your own favicon.svg
      # - ./my-favicon.svg:/app/custom/favicon.svg:ro
    environment:
      - PORT=8080
      - EXTRA_PATHS=/outputs
      # All env vars pass through to IIB. Examples:
      # - IIB_DB_PATH=/cache/iib.db
      # - IIB_SECRET_KEY=your-secret
      # - OPENAI_API_KEY=sk-...
    restart: unless-stopped

volumes:
  iib-cache:
